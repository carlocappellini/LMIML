<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">


<head th:replace="fragments/header :: main-header"></head>
<body>
<nav th:replace="fragments/navbar :: mainNav"></nav>


<div class="container purple lighten-5">
    <div class="row">
        <div class="col s12 center">
            <h1>Welcome,
                <span th:text="${user.username}"></span>!</h1>
            <input id="zipcode" type="hidden" th:value="${user.zipcode}"/>
        </div>
    </div>
    <div class="row">
        <div class="col s12">
            <div class="col s12 m4">
                <!--<button><a id="requests" th:href="@{/response/{id}  (id=${user.id})} ">Friend Requests</a>-->
                <!--</button>-->


                <!-- Modal Trigger -->
                <a class="waves-effect waves-light btn modal-trigger orange darken-1" href="#modal1">My Bands</a>

                <!-- Modal Structure -->
                <div id="modal1" class="modal">
                    <div class="modal-content">
                        <h1>My Bands</h1>
                        <div th:each="band : ${user.bands}">
                                <h4 th:text="${band.bandname}"></h4>
                        </div>
                    </div>
                </div>


                <!--<div>-->
                    <!--<h5>My Bands: </h5>-->
                    <!--<div th:each="band : ${user.bands}">-->
                        <!--<ul>-->
                            <!--<li th:text="${band.bandname}"></li>-->
                        <!--</ul>-->
                    <!--</div>-->
                <!--</div>-->
                <div>
                    <h5>My Shows: </h5>
                    <div th:each="show : ${user.shows}">
                        <ul>
                            <li th:text="${show.artists + ' at ' + show.venue}"></li>
                        </ul>
                    </div>
                    <div>
                        <h5>My Reviews: </h5>
                        <div th:each="review : ${user.reviews}">
                            <ul>
                                <li>
                                    <a th:text="${review.title}"
                                       th:href="@{'/review/' + ${review.id} + '/show'}"></a>
                                </li>
                            </ul>
                            <!--<p th:text="${review.body}"></p>-->
                            <!--<p th:text="${review.rating}"></p>-->
                        </div>
                        <a th:href="${'/review/all/show'}">See All Reviews</a>


                    </div>
                    <!--<div>-->
                    <!--<h4>My Friends: </h4>-->
                    <!--<div th:each="friend : ${friends}">-->
                    <!--<p th:text="${friend.username}"></p>-->
                    <!--</div>-->


                    <!--</div>-->
                </div>
            </div>
            <div class="col s12 m8">
                <div id="showsnearme"></div>
            </div>
        </div>
    </div>
</div>
<div th:replace="fragments/footer :: footer"></div>
<script src="js/showsNearMe.js"></script>
<script src="/js/home.js"></script>

</body>
</html>